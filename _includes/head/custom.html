{% include base_path %}

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="{{ base_path }}/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="{{ base_path }}/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="{{ base_path }}/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="{{ base_path }}/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="{{ base_path }}/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="{{ base_path }}/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="{{ base_path }}/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="{{ base_path }}/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="{{ base_path }}/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="{{ base_path }}/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="{{ base_path }}/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="{{ base_path }}/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="{{ base_path }}/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

<!-- Journey Map Dependencies -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/leaflet-polylinedecorator@1.7.0/dist/leaflet.polylineDecorator.min.js"></script>
<script defer src="{{ base_path }}/assets/js/journey-map.js"></script>
<style>
  #journey-map { width: 100%; min-height: 420px; border: 1px solid var(--border-color, #ddd); border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.08); margin: 1.2rem 0; }
  .journey-legend { font-size: 0.85rem; line-height: 1.25; margin-top: 0.5rem; }
  .journey-legend h3 { margin: 0 0 0.4rem; font-size: 0.9rem; }
  .journey-legend .j-item { display: flex; gap: 0.35rem; margin-bottom: 0.25rem; align-items: baseline; }
  .journey-legend .idx { background:#0d47a1; color:#fff; width:1.1rem; height:1.1rem; display:inline-flex; align-items:center; justify-content:center; font-size:0.65rem; border-radius:50%; }
  .journey-legend .p { font-weight:600; }
  .journey-pulse { animation: jm-pulse 1.2s ease-in-out 2; }
  @keyframes jm-pulse { 0% { transform: scale(1); } 50% { transform: scale(1.55); } 100% { transform: scale(1); } }
  @media (prefers-color-scheme: dark) { #journey-map { border-color:#444; } .journey-legend .idx { background:#90caf9; color:#0d47a1; } }
  /* Mini map variants */
  .journey-mini { width:100%; min-height:230px; border:1px solid var(--border-color, #ddd); border-radius:4px; margin:0.75rem 0; }
  .journey-legend-mini { font-size:0.7rem; }
  .journey-more { font-size:0.8rem; margin-top:0.25rem; }
  /* Social bundle (clean accent outline style) */
  :root { --accent-color:#0d47a1; --accent-color-rgb:13,71,161; --accent-bg:rgba(13,71,161,0.06); }
  @media (prefers-color-scheme: dark) { :root { --accent-color:#90caf9; --accent-color-rgb:144,202,249; --accent-bg:rgba(144,202,249,0.12); } }
  .social-bundle { display:flex; flex-wrap:wrap; gap:0.6rem; margin:1.15rem 0 1.55rem; }
  .social-bundle .sb-item { position:relative; display:inline-flex; align-items:center; gap:0.45rem; text-decoration:none; padding:0.5rem 0.9rem; border:1px solid var(--accent-color); border-radius:22px; font-size:0.8rem; font-weight:500; background:var(--accent-bg); color:var(--accent-color); line-height:1; transition: background .25s, color .25s, box-shadow .3s, transform .18s; }
  .social-bundle .sb-item:focus-visible { outline:2px solid var(--accent-color); outline-offset:2px; }
  .social-bundle .sb-item:hover { background:var(--accent-color); color:#fff; transform:translateY(-2px); box-shadow:0 4px 14px rgba(var(--accent-color-rgb),0.35); }
  .social-bundle .sb-item:active { transform:translateY(0); box-shadow:0 2px 6px rgba(var(--accent-color-rgb),0.4); }
  .social-bundle .sb-icon { font-size:1rem; line-height:1; display:inline-flex; color:inherit; }
  .social-bundle .sb-label { letter-spacing:.3px; }
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) { .social-bundle .sb-item { transition:none; } }
  /* Contact bundle */
  .contact-bundle { display:flex; gap:0.6rem; margin:-0.4rem 0 1.4rem; }
  .contact-bundle .cb-item { display:inline-flex; align-items:center; gap:0.45rem; text-decoration:none; padding:0.5rem 0.95rem; border:1px dashed var(--accent-color); border-radius:18px; font-size:0.78rem; font-weight:500; background:rgba(var(--accent-color-rgb),0.05); color:var(--accent-color); transition:background .25s, color .25s, border-color .25s; }
  .contact-bundle .cb-item:hover { background:var(--accent-color); color:#fff; border-color:var(--accent-color); }
  .contact-bundle .cb-icon { line-height:1; }
</style>
